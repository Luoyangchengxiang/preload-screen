# preload-screen  

ä¸€ä¸ªæç®€å•æ˜“ç”¨çš„ **é¡µé¢åŠ è½½åŠ¨ç”»æ’ä»¶** ï¼Œåœ¨ React / Vue åŸç”Ÿé¡¹ç›®ä¸­ä½¿ç”¨ã€‚  
æ”¯æŒ **è‡ªåŠ¨æ¨¡å¼** ï¼ˆåœ¨ *ç›‘å¬è¯¥å…ƒç´ å†…æ˜¯å¦æŒ‚è½½å­å…ƒç´ å* è‡ªåŠ¨æ¶ˆå¤±ï¼‰å’Œ **æ‰‹åŠ¨æ¨¡å¼** ï¼ˆè‡ªè¡Œæ§åˆ¶æ¶ˆå¤±æ—¶æœºï¼‰ã€‚

## âœ¨ ç‰¹æ€§

 - ğŸš€ é›¶ä¾èµ–ï¼Œç›´æ¥å¼•å…¥å³å¯ä½¿ç”¨
 - ğŸ¨ å¯è‡ªå®šä¹‰æ–‡æ¡ˆã€é¢œè‰²
 - âš™ï¸ å¯é…ç½®åŠ¨ç”»ç±»å‹
 - âš¡ æ”¯æŒè‡ªåŠ¨æ¨¡å¼ / æ‰‹åŠ¨æ¨¡å¼
 - ğŸ›¡ï¸ æœ€å°‘æ˜¾ç¤ºæ—¶é—´ï¼Œé¿å…é—ªå±
 - ğŸ”§ å¯ä½œä¸ºç‹¬ç«‹æ’ä»¶å°è£…å‘å¸ƒ

## ğŸ“¦ å®‰è£…

```bash
npm install preload-screen --save
```
```æˆ–```
```bash
yarn add preload-screen
```
```æˆ–```
```bash
pnpm add preload-screen
```

## ğŸ”¨ ä½¿ç”¨æ–¹æ³•

### 1. åœ¨å…¥å£æ–‡ä»¶ä¸­å¼•å…¥æ’ä»¶  
  ```ts
    // main.ts / main.js / main.tsx / main.jsx

    import { initPreloadScreen } from "preload-screen"; 
    const loader = initPreloadScreen({
      mode: "auto",
      minShow: 300,
      fadeOut: 500,
      text: "Loading...",
      color: "#1890ff",
      animeStyle: '3dBox',
      debug: true,
    })
  ```

  å¼•å…¥åä¼šè‡ªåŠ¨æ’å…¥ä¸€ä¸ªå…¨å± Loading åŠ¨ç”»ã€‚

  ---

### 2. æ¨¡å¼é€‰æ‹©  

  **æ‰‹åŠ¨æ¨¡å¼ (æ¨è)**  

  é€‚åˆ React / Vue ç­‰æ¡†æ¶ï¼Œéœ€è¦ç­‰å¾…åº”ç”¨æŒ‚è½½å®Œæˆåå†ç§»é™¤ Loadingã€‚
  ```ts
  import { initPreloadScreen } from "preload-screen"; 
  const loader = initPreloadScreen({
    // ...é…ç½®é¡¹...
  });

  // æ‰‹åŠ¨å…³é—­åŠ è½½æ–¹å¼
  loader.hide();
  ```
  åœ¨åº”ç”¨å®Œæˆåˆå§‹åŒ–åæ‰‹åŠ¨è§¦å‘ï¼š
  ```ts
    // main.ts (React ç¤ºä¾‹)

    import { StrictMode } from 'react'
    import { createRoot } from 'react-dom/client'
    import './index.css'
    import App from './App.tsx'
    // ä»¥ä¸Šå¼•å…¥çš†ä¸ºReactç¤ºä¾‹é¡¹ç›®ï¼Œä¸æ’ä»¶æ— å…³
  
    import { initPreloadScreen } from "preload-screen"; 
    const loader = initPreloadScreen({
      mode: "manual",
      text: "Loading...",
      color: "#1890ff",
    });

    (async function () {
      setTimeout(() => {
        // æ‰‹åŠ¨è§¦å‘ hide äº‹ä»¶å…³é—­Loading,
        loader.hide();
      }, 5000);
      createRoot(document.getElementById('root')!).render(
        <StrictMode>
          <App />
        </StrictMode>,
      )
    })()
  ```

  **è‡ªåŠ¨æ¨¡å¼ (é»˜è®¤)**

  éœ€ä¼ å…¥<span style="font-weight:600;color:rgb(253, 0, 0); background-color:rgb(77, 77, 77);padding:0 3px;margin:0 3px;border-radius:3px;">elId</span> é…ç½®é¡¹ï¼Œå³æ‰¿è½½æ¡†æ¶æ¸²æŸ“å†…å®¹çš„æ ¹èŠ‚ç‚¹å…ƒç´ çš„ ```id``` å€¼ï¼Œé€šè¿‡ ```mutationObserver``` ç›‘å¬è¯¥å…ƒç´ å†…æ˜¯å¦æŒ‚è½½å­å…ƒç´ ï¼Œå½“ç›‘å¬åˆ°æœ‰å®é™…å†…å®¹åè‡ªåŠ¨å…³é—­ Loadingã€‚

  è‹¥ä¸ä¼ å…¥```elId``` æ—¶ï¼Œé¦–å…ˆä¼šæ£€æµ‹æ˜¯å¦å­˜åœ¨ ```#root(React)``` ```#app(Vue)```,è‹¥ä¸å­˜åœ¨ï¼Œå°†ä¼šä½¿ç”¨ ```document.body``` ç›‘å¬ã€‚
  
  ```ts
  // main.ts (React ç¤ºä¾‹)
  import "preload-screen";
  ```

## âš™ï¸ é…ç½®é¡¹
   | å‚æ•°                | ç±»å‹                         | é»˜è®¤å€¼           | è¯´æ˜                                                    |
   | ------------------- | ---------------------------- | ---------------- | ------------------------------------------------------- |
   | ```elId```          | ```string```                 | -                | æ‰¿è½½æ¡†æ¶æ¸²æŸ“å†…å®¹çš„æ ¹èŠ‚ç‚¹å…ƒç´ çš„ id å€¼                    |
   | ```mode```          | ```string```                 | ```auto```       | æ¨¡å¼é€‰æ‹©ï¼Œå¯é€‰å€¼ï¼š```auto``` / ```manual```             |
   | ```text```          | ```string```                 | ```Loading...``` | Loading æ–‡æ¡ˆ                                            |
   | ```color```         | ```string```                 | ```#1890ff```    | ç¯å½¢åŠ è½½åŠ¨ç”»çš„è¾¹æ¡†é¢œè‰²                                  |
   | ```minShow```       | ```number```                 | ```300```        | æœ€å°‘æ˜¾ç¤ºæ—¶é—´ (ms)ï¼Œé¿å…é—ªå±                             |
   | ```fadeOut```       | ```number```                 | ```500```        | Loading æ¶ˆå¤±åŠ¨ç”»æ—¶é•¿ (ms)                               |
   | ```animeStyle```    | ```string```                 | ```spin```       | åŠ¨ç”»æ ·å¼ï¼Œå¯é€‰å€¼ ```spin``` / ```3dBox``` / ```petal``` |
   | ```maxAttempts```   | ```number```                 | ```100```        | æŸ¥æ‰¾æ ¹èŠ‚ç‚¹å…ƒç´ æ—¶æœ€å¤§å°è¯•æ¬¡æ•°ï¼Œé¿å…æ­»å¾ªç¯                |
   | ```checkInterval``` | ```number```                 | ```50```         | å°è¯•æŸ¥æ‰¾æ ¹èŠ‚ç‚¹å…ƒç´ æ—¶é—´éš”æ—¶é—´ (ms)                       |
   | ```logo```          | ```string```                 | -                | logo å›¾ç‰‡è·¯å¾„                                           |
   | ```logoConfig```    | ```object``` æˆ– ```string``` | -                | ä¸‹æ–¹ logo é…ç½®é¡¹                                        |
  ------------------------------------------------------------------------------------------------------------------------------------
  **logo é…ç½®é¡¹ï¼š**  
  | logoConfig é…ç½®é¡¹         | ç±»å‹          | é»˜è®¤å€¼        | è¯´æ˜                                         |
  | ------------------------- | ------------- | ------------- | -------------------------------------------- |
  | ```logoConfig```          | ```string```  | -             | å¯ç›´æ¥ä»¥logoConfigä¸ºå±æ€§ï¼Œä¼ å…¥å›¾ç‰‡è·¯å¾„       |
  | ```width```               | ```number```  | ```100```     | å›¾ç‰‡å®½åº¦                                     |
  | ```height```              | ```number```  | ```100```     | å›¾ç‰‡é«˜åº¦                                     |
  | ```rounded```             | ```number```  | ```0```       | å›¾ç‰‡åœ†è§’                                     |
  | ```progress```            | ```object```  | -             | è¿›åº¦æ¡é…ç½®é¡¹                                 |
  | ```progress.mode```       | ```string```  | ```default``` | è¿›åº¦æ¡æ¨¡å¼ï¼Œå¯é€‰å€¼ ```bar``` / ```rainbow``` |
  | ```progress.stroke```     | ```number```  | ```4```       | è¿›åº¦æ¡å®½åº¦                                   |
  | ```progress.color```      | ```string```  | ```#1890ff``` | è¿›åº¦æ¡é¢œè‰²                                   |
  | ```progress.isShowText``` | ```boolean``` | ```false```   | æ˜¯å¦å±•ç¤ºè¿›åº¦æ•°å€¼                             |
  | ```progress.textColor```  | ```string```  | ```#666```    | è¿›åº¦æ•°å€¼é¢œè‰²                                 |
  | ```progress.textSize```   | ```number```  | ```14```      | è¿›åº¦æ•°å€¼æ–‡å­—å¤§å°                             |
  ------------------------------------------------------------------------------------------------------------------------------------


## ğŸ– æ‰‹åŠ¨ API
  å³ä½¿åœ¨ ```manual``` æ¨¡å¼ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥éšæ—¶æ‰‹åŠ¨è§¦å‘ï¼š
  ```ts
    // 1.ä½¿ç”¨windowä¸ŠæŒ‚è½½çš„å…³é—­äº‹ä»¶ï¼Œç«‹å³ç§»é™¤é¢„åŠ è½½åŠ¨ç”»
    window.dispatchEvent(new CustomEvent('app-ready'));
    window.preloadHide();
  ```
  

## ğŸ“„ License

[MIT Â© 2025](https://github.com/Luoyangchengxiang/preload-screen?tab=MIT-1-ov-file#)

## v1.0.3 - 2025-09-28 æ›´æ–°æ—¥å¿—

### âœ¨ Added æ–°å¢åŠŸèƒ½ 
  æ–°å¢ ```logoConfig``` é…ç½®é¡¹ï¼Œå±•ç¤ºä¸ºï¼šå›¾ç‰‡+è¿›åº¦æ¡æ ·å¼  
  å¯ä¼ å…¥å›¾ç‰‡è·¯å¾„ï¼Œä»¥è‡ªå·±é¡¹ç›® logo ä¸º Loading æ–‡æ¡ˆ
  æ”¯æŒé…ç½®å›¾ç‰‡ã€å›¾ç‰‡å¤§å°ã€æ˜¯å¦åœ†è§’ã€è¿›åº¦æ¡å±•ç¤ºã€è¿›åº¦æ¡é¢œè‰²ã€è¿›åº¦æ•°å€¼å±•ç¤ºã€è¿›åº¦æ•°å€¼é¢œè‰²ã€è¿›åº¦æ•°å€¼å­—ä½“å¤§å°
****
  æ–°å¢ ```progress.mode``` é…ç½®é¡¹ï¼Œå±•ç¤ºä¸ºï¼šè¿›åº¦æ¡æ ·å¼
  å¯é€‰æ‹© ```default``` / ```bar``` / ```rainbow``` ä¸‰ç§æ¨¡å¼ï¼Œé»˜è®¤ä¸º ```default```